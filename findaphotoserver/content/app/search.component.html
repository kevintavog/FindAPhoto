<div class="container">
  <form>
      <label for="search-text">Find a photo:</label>
      <input type="text" class="searchinput" [(ngModel)]="searchRequest.searchText" ngControl="searchText" >
      <button type="submit" class="btn btn-default" (click)="userSearch()">Search</button>
  </form>
</div>

<div *ngIf="serverError != undefined" >
    <br>
    <h2 class="server-error">{{serverError}}</h2>
</div>

<div *ngIf="searchResults != null">
  <br>
  <h2 class="search-results" *ngIf="searchResults.totalMatches == 0" >No matches were found for '{{searchRequest.searchText}}'!</h2>
  <h2 class="search-results" *ngIf="searchResults.resultCount > 0 && searchResults.resultCount == searchResults.totalMatches" >Showing all {{searchResults.totalMatches}} items</h2>
  <h2 class="search-results" *ngIf="searchResults.resultCount != searchResults.totalMatches" >Showing items {{searchRequest.first}} - {{searchRequest.first + searchResults.resultCount - 1}} out of {{searchResults.totalMatches}} total items</h2>

  <div id="paging" *ngIf="totalPages > 1" >
      <button (click)="previousPage()" *ngIf="currentPage > 1" class="page-button" >« Prev</button>
      Page {{currentPage}} of {{totalPages}}
      <button (click)="nextPage()" *ngIf="currentPage < totalPages" class="page-button" >Next »</button>
  </div>

  <div *ngFor="#group of searchResults.groups">
    <div style="clear:both;"></div>
    <br>
    <hr style="width:100%;"/>
    <h2>{{group.name}}</h2>
    <p>
    <div id="singleimage" *ngFor="#item of group.items; #imageIndex = index">
        <div id="thumbnail">
            <a [routerLink]="['Slide', {id: item.id, q:searchRequest.searchText, i:imageIndex + group.resultIndex + searchRequest.first}]">
                <img src="{{item.thumbUrl}}">
            </a>
        </div>
        <table class="imageListInfoTable">
            <colgroup>
                <col id="leftCol"/>
                <col id="rightCol"/>
            </colgroup>
            <tr>
                <td> {{item.imageName}} </td>
                <td> {{item.city}}  </td>
            </tr>
            <tr>
                <td> {{item.createdDate | DateStringToLocaleDatePipe }} </td>
                <td> {{item.keywords}} </td>
            </tr>
        </table>
    </div>
  </div>

  <div id="paging" *ngIf="totalPages > 1" >
      <button (click)="previousPage()" *ngIf="currentPage > 1" class="page-button" >« Prev</button>
      Page {{currentPage}} of {{totalPages}}
      <button (click)="nextPage()" *ngIf="currentPage < totalPages" class="page-button" >Next »</button>
  </div>
  
</div>
<br>
